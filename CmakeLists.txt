cmake_minimum_required(VERSION 3.20)

project(Calc LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

add_executable(Calc
    main.cpp
    include/plugin_helpers/PluginAPI.h
    include/functional/Parser.hpp src/functional/Parser.cpp
    include/functional/Lexer.hpp src/functional/Lexer.cpp
    include/functional/Executor.hpp src/functional/Executor.cpp
    include/plugin_helpers/PluginHandle.hpp src/plugin_helpers/PluginHandle.cpp
    include/plugin_helpers/PluginManager.hpp src/plugin_helpers/PluginManager.cpp
    include/plugin_helpers/platform.hpp src/plugin_helpers/platform.cpp
    include/plugin_helpers/hostApiUtils.hpp src/plugin_helpers/hostApiUtils.cpp
    include/ICallable.hpp
    include/operators/IOperator.hpp
    include/operators/AddOperator.hpp
    include/operators/UnarAddOperator.hpp
    include/operators/SubOperator.hpp
    include/operators/MulOperator.hpp
    include/operators/DivOperator.hpp
    include/operators/OperatorRegistry.hpp src/operators/OperatorRegistry.cpp
    include/logger/Logger.hpp src/logger/Logger.cpp
    libs/tinyfiledialogs/tinyfiledialogs.h libs/tinyfiledialogs/tinyfiledialogs.cpp
)

target_include_directories(Calc PRIVATE include)

# Явно укажем место хранения артефактов сборки
set_target_properties(Calc PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin
)